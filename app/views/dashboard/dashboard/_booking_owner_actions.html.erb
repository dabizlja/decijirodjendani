<% status = booking.status.to_s %>
<% confirm_message = "Da li sigurno Å¾elite da potvrdite ovu rezervaciju?" %>
<% reject_message = "Da li Å¾elite da odbijete zahtev? Ovo Ä‡e obavestiti roditelja." %>
<% cancel_message = "Da li Å¾elite da otkaÅ¾ete ovu rezervaciju?" %>
<% complete_message = "Potvrdite da je dogaÄ‘aj uspeÅ¡no zavrÅ¡en." %>

<% if status == "requested" %>
  <%= button_to "âœ… Prihvati",
                accept_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: confirm_message } },
                class: booking_action_button_classes(:primary) %>
  <%= button_to "âŒ Odbij",
                reject_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: reject_message } },
                class: booking_action_button_classes(:ghost) %>
<% elsif status == "pending_payment" %>
  <%= button_to "ðŸ’° OznaÄi kao plaÄ‡eno",
                mark_paid_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: "Da li je uplata potvrÄ‘ena?" } },
                class: booking_action_button_classes(:primary) %>
  <%= button_to "ðŸš« OtkaÅ¾i",
                cancel_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: cancel_message } },
                class: booking_action_button_classes(:warning) %>
<% elsif status == "confirmed" %>
  <%= button_to "ðŸ ZavrÅ¡eno",
                complete_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: complete_message } },
                class: booking_action_button_classes(:primary) %>
  <%= button_to "ðŸš« OtkaÅ¾i",
                cancel_dashboard_booking_request_path(booking),
                method: :patch,
                form: { data: { turbo_stream: true, turbo_confirm: cancel_message } },
                class: booking_action_button_classes(:warning) %>
<% else %>
  <span class="text-xs font-medium text-gray-400">Nema dodatnih radnji</span>
<% end %>
